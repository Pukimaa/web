---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PortfolioCard from "../../components/PortfolioCard.astro";
import "../../styles/global.scss";

const title = "Portfolio";
const doneDesignPosts = await Astro.glob("../../pages/portfolio/*.mdx");
doneDesignPosts.sort((a, b) => {
  return (
    +new Date(b.frontmatter.years[b.frontmatter.years.length() - 1], 0) -
    +new Date(a.frontmatter.years[a.frontmatter.years.length() - 1], 0)
  );
});
doneDesignPosts.filter((post) => {
  return post.frontmatter.status === "done";
});
---

<BaseLayout
  title={title}
  description="All worth to mention projects showing off Pukima's skills and expertise."
>
  {
    doneDesignPosts.map((post) => (
      <PortfolioCard
        url={post.url}
        title={post.frontmatter.title}
        tools={post.frontmatter.tools}
        years={post.frontmatter.years}
        readingTime={post.frontmatter.readingTime}
      />
    ))
  }
</BaseLayout>
